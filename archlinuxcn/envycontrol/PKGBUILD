# Maintainer: Gavin Luo <lunt.luo#gmail.com>
# Contributor: Victor Bayas <victorsbayas at gmail dot com>
# Contributor: Victor Bayas <victorsbayas at gmail dot com>

pkgname=envycontrol
pkgver=3.5.0
pkgrel=1
pkgdesc="CLI tool for Nvidia Optimus graphics mode switching on Linux"
arch=('any')
url="https://github.com/bayasdev/envycontrol"
license=('MIT')
depends=('python' 'xorg-xrandr')
makedepends=('python-setuptools')
conflicts=('optimus-manager')
source=("${url}/archive/refs/tags/v${pkgver}.tar.gz")
sha512sums=('a034bb8f2fc6cc6a6c05f39ff096efa531397a32d6325f8694e9a99f02142cc65e203f67b69827f9307e479fd93e4b5e2f6b81ea7e2fc697029b3e2d7a55efa5')

package() {
  cd "${srcdir}/envycontrol-${pkgver}/"

  python setup.py install --root="$pkgdir/" --optimize=1

  # Copy package license to system
  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
